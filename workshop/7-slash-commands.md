# Exercise 7 - Slash commands in GitHub Copilot CLI

| [← Previous lesson: Custom Agents][previous-lesson] | [Next lesson: Review →][next-lesson] |
|:--|--:|

Like any good CLI tool, GitHub Copilot CLI includes many slash commands to interact with it. These commands expose advanced functionality, "behind-the-scenes" information, or additional configuration options. You've already explored a couple with `/clear` to clear context and `/mcp` to register MCP servers. Let's explore a couple of other powerful ones, including `/context`, `/models` and `/share`.

## Scenario

As a part-time developer for Tailspin Toys, you want to share your experience with Copilot CLI with the rest of the team. You also want to explore different options inside the tool to ensure you're getting the most out of it.

In this exercise you will use:

- `/share` to create a GitHub gist to share your session with the team.
- `/context` to see the context Copilot CLI is currently using.
- `/models` to explore the list of available models and select a new one if you so desire.

## Sharing a session

Using any tool, including an AI tool, is a skill. Working together as a team, sharing learnings with each other, is the best way to help improve everyone's experience and generate higher quality code. To support this, Copilot CLI provides a `/share` command. The `/share` command can generate a markdown file or GitHub gist with the details of the session, including the prompts used and logic Copilot followed.

Let's create a GitHub gist we could share with our team.

1. Return to your codespace.
2. If hidden, show the terminal window by selecting <kbd>Ctrl</kbd>+<kbd>\`</kbd>.
3. In the prompt window for Copilot CLI, send the following command:

    ```
    /share gist
    ```

4. In just a couple of moments, Copilot will create a gist and display the link.
5. Copy the link text.
6. In a new browser tab, paste the link to explore the gist. Note how the gist highlights the prompts sent, skills and agents used, Copilot's thought process, and even the code and results from locally run commands.

The gists and markdown files generated by `/share` can be used for documentation purposes of how code was generated, or to share with your team about how certain actions were performed that generated the desired results from Copilot.

## Exploring Copilot CLI's context

When working on larger or more complex tasks you may bump into the maximum context window for the model. The exact size of the window will vary based on the model being used and the version of Copilot CLI. When the context window is maxed out, Copilot CLI will automatically compact it, summarizing information and removing anything it deems isn't relevant to the current task. You can both see the current state of the context and manually compact the context by using slash commands. Let's explore the context window.

1. Return to your codespace.
2. If hidden, show the terminal window by selecting <kbd>Ctrl</kbd>+<kbd>\`</kbd>.
3. In the prompt window for Copilot CLI, send the following command:

    ```
    /context
    ```

4. In just a couple of moments, Copilot CLI will generate a visual representation of its current context:

    ![Screenshot of context window from Copilot CLI][img-context-window]

5. Note the model displayed (which may be different than the one in the image), and the current percentage of tokens used. The rest of the information highlights:

    | Title        | Description                                            |
    | ------------ | ------------------------------------------------------ |
    | System/Tools | Instructions files, file contents and tool definitions |
    | Messages     | Conversation history between you and Copilot           |
    | Buffer       | Reserved space by Copilot CLI for generating responses |
    | Free space   | Remaining free space                                   |

6. Compact the conversation history by sending the following slash command to Copilot CLI:

    ```
    /compact
    ```

7. Once completed, send the following command to display the current context stats again:

    ```
    /context
    ```

8. Note the change in context. There might not be a drastic change as the context window is likely relatively small at the moment.

> [!NOTE]
> Copilot CLI will automatically compact when it becomes full. As it approaches 100% capacity it will display the percentage just above the prompt window. Normally it will compact asynchronously, allowing you to continue interacting with Copilot while it does its work. It may however block a running operation for several seconds while performing its work.

### Best practices with context

In most sessions with Copilot context will be managed efficiently by Copilot itself without any specific guidance. However, there may be instances when you decide to manually instruct Copilot to either clear or compact its history:

- If you are changing to a different part of the application, or to an unrelated task, you can use `/clear` to start new to avoid confusing Copilot with older, unrelated context.
- If you are approaching the maximum context window, you can manually `/compact` your context to control when it happens.

> [!IMPORTANT]
> Again, the majority of the time, Copilot will manage its context without direct interaction from you. If you notice Copilot is a bit confused by older information, or are about to switch to an unrelated task, then you might consider using the manual commands.

## Choosing your model

Different models have different strengths, and different developers have different models. Copilot CLI allows you to list and select the model you wish to use!

1. Return to your codespace.
2. If hidden, show the terminal window by selecting <kbd>Ctrl</kbd>+<kbd>\`</kbd>.
3. Display the list of models by sending the following slash command to Copilot CLI:

    ```
    /models
    ```

4. Note the list of models. Each model will have both its name and cost-per-request modifier listed next to it.
5. If you wish, select a new model! Or select <kbd>Esc</kbd> to exit the model list.

> [!IMPORTANT]
> Model selection persists in Copilot CLI.

## Summary and next steps

Using slash commands in Copilot CLI allows you to configure it, share sessions, and get internal information about how Copilot's working. In this lesson you used:

- `/share` to create a GitHub gist to share your session with the team.
- `/context` to see the context Copilot CLI is currently using.
- `/models` to explore the list of available models and select a new one if you so desire.

There are of course more slash commands available, and more to explore with Copilot CLI! Let's close out our journey by [reviewing what we've learned][next-lesson] and some next steps to continue learning.

## Resources

- [Using Copilot CLI][using-copilot-cli]
- [About Copilot CLI][about-copilot-cli]
- [Context Management in Copilot CLI][context-management]
- [Share Sessions with Copilot CLI][share-sessions]
- [Selecting Models in Copilot CLI][selecting-models]

---

| [← Previous lesson: Custom Agents][previous-lesson] | [Next lesson: Review →][next-lesson] |
|:--|--:|

[previous-lesson]: ./6-custom-agents.md
[next-lesson]: ./8-review.md
[using-copilot-cli]: https://docs.github.com/copilot/how-tos/use-copilot-agents/use-copilot-cli
[about-copilot-cli]: https://docs.github.com/copilot/concepts/agents/about-copilot-cli
[context-management]: https://docs.github.com/copilot/how-tos/use-copilot-agents/use-copilot-cli#context-management
[share-sessions]: https://docs.github.com/copilot/how-tos/use-copilot-agents/use-copilot-cli#share-sessions
[selecting-models]: https://docs.github.com/copilot/how-tos/use-copilot-agents/use-copilot-cli#select-an-llm
[img-context-window]: ./images/7-context-window.png
